---
import { fetchFutureEvents } from "../../lib/querys";
import type { Event } from "../../types";
import EventCard from "./event-card.astro";
import ContentSection from "../content-section.astro";

const now = new Date();
const futureEvents = await fetchFutureEvents(now.toISOString());
---

<ContentSection title="Eventos" id="events">
  <ul class="grid max-w-6xl grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-3">
    {
      futureEvents.eventsCollection.items.map((event: Event) => (
        <EventCard event={event} imageUrl={event.image.url} />
      ))
    }
  </ul>
</ContentSection>
