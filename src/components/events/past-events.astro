---
import { fetchFutureEvents, fetchPastEvents } from "../../lib/queries";
import type { Event } from "../../types";
import EventCard from "./event-card.astro";
import ContentSection from "../content-section.astro";

const now = new Date();
const pastEvents = await fetchPastEvents(now.toISOString());
---

<ContentSection title="Eventos Pasados" id="past-events">
  <ul class="grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 w-full max-w-full mx-auto px-4">
    {
      pastEvents.eventCollection.items.map((event: Event) => (
        <EventCard event={event} imageUrl={event.image.url} />
      ))
    }
  </ul>
</ContentSection>
